kubectl run nginx --image=nginx
kubectl get pods

# ubuntu@ip-10-10-225-40:~$ kubectl get pods
# NAME    READY   STATUS    RESTARTS   AGE
# nginx   1/1     Running   0          8s

scale to 5
kubectl create deployment nginx-deploy --image=nginx --replicas=2

# ubuntu@ip-10-10-225-40:~$ kubectl get pods
# NAME                           READY   STATUS    RESTARTS   AGE
# nginx                          1/1     Running   0          64s
# nginx-deploy-c9d9f6c6c-4lbh8   1/1     Running   0          8s
# nginx-deploy-c9d9f6c6c-qmf5l   1/1     Running   0          8s

kubectl scale deployment nginx-deploy --replicas=5

# ubuntu@ip-10-10-225-40:~$ kubectl get pods
# NAME                           READY   STATUS              RESTARTS   AGE
# nginx                          1/1     Running             0          99s
# nginx-deploy-c9d9f6c6c-4lbh8   1/1     Running             0          43s
# nginx-deploy-c9d9f6c6c-5t78b   1/1     Running             0          2s
# nginx-deploy-c9d9f6c6c-6jgcp   0/1     ContainerCreating   0          2s
# nginx-deploy-c9d9f6c6c-7tqpk   1/1     Running             0          2s
# nginx-deploy-c9d9f6c6c-qmf5l   1/1     Running             0          43s

kubectl get deployments

# NAME           READY   UP-TO-DATE   AVAILABLE   AGE
# nginx-deploy   5/5     5            5           77s

# nodeport service for external access
kubectl expose deployment nginx-deploy --type=NodePort --port=80
kubectl get svc

